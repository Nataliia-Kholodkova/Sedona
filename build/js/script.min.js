let navigation=document.querySelector(".navigation"),navigation_btn_open=document.querySelector(".btn-menu__open"),navigation_btn_close=document.querySelector(".btn-menu__close");function openSearchForm(){event.preventDefault();let e=document.querySelector(".search-form__modal"),t=document.querySelector(".overlay");t.classList.remove("overlay__hidden"),t.classList.add("overlay__display"),e.classList.remove("modal__hidden"),e.classList.add("modal__display")}function closeSearchForm(){event.preventDefault();let e=document.querySelector(".search-form__modal"),t=document.querySelector(".overlay");t.classList.add("overlay__hidden"),t.classList.remove("overlay__display"),e.classList.add("modal__hidden"),e.classList.remove("modal__display")}function decreaseNumber(e){event.preventDefault();let t=".input-number__"+e,r=document.querySelector(t),n=+r.value-1;n>=+r.min&&(r.value=n)}function increaseNumber(e){event.preventDefault();let t=".input-number__"+e,r=document.querySelector(t),n=+r.value+1;n<=+r.max&&(r.value=n)}navigation.classList.remove("navigation__js"),navigation.classList.add("navigation__closed"),navigation_btn_open.addEventListener("click",(function(e){e.preventDefault(),navigation.classList.add("navigation__opened"),navigation.classList.remove("navigation__closed")})),navigation_btn_close.addEventListener("click",(function(e){e.preventDefault(),navigation.classList.remove("navigation__opened"),navigation.classList.add("navigation__closed")}));const rangeMin=document.querySelector(".range-line__min"),rangeMax=document.querySelector(".range-line__max");let rangeValMin=document.querySelector(".range-value__min span"),rangeValMax=document.querySelector(".range-value__max span"),filters=document.querySelector(".sort-list__features"),filtersAsc=document.querySelector(".sort-list__price"),form=document.querySelector(".filter-form");const hotels=[{name:"Amara Resort & Spa",type:"Гостиница",price:4e3,rating:"8,5",photo:"img/filter-photo-1.jpg",stars:4,infrastructure:["бассейн","парковка","wi-fi"]},{name:"Desert Quail Inn",type:"Мотель",price:3e3,rating:"8,9",photo:"img/filter-photo-2.jpg",stars:3,infrastructure:["бассейн","wi-fi"]},{name:"Villas at Poco Diablo",type:"Апартаменты",price:2e3,rating:"9,2",photo:"img/filter-photo-3.jpg",stars:2,infrastructure:["бассейн"]},{name:"Sedona Paradise",type:"Гостиница",price:4300,rating:"8,2",photo:"img/filter-photo-1.jpg",stars:4,infrastructure:["бассейн","парковка","wi-fi"]},{name:"Villas at Sunset",type:"Апартаменты",price:1500,rating:"9,7",photo:"img/filter-photo-3.jpg",stars:2,infrastructure:["wi-fi"]}];let player,currentHotels=[{name:"Villas at Poco Diablo",type:"Апартаменты",price:2e3,rating:"9,2",photo:"img/filter-photo-3.jpg",stars:2,infrastructure:["бассейн"]}];function changeRangeValueMin(e){e.preventDefault(),this.value<rangeMax.value?rangeValMin.textContent=this.value:this.value=rangeValMin.textContent}function changeRangeValueMax(e){e.preventDefault(),this.value>rangeMin.value?rangeValMax.textContent=this.value:this.value=rangeValMax.textContent}function createHotels(){let e=document.querySelector(".section-results");if(!e)return;e.innerHTML="";const t=document.querySelector("#result").content.querySelector(".result");if(t){let r=document.createDocumentFragment();for(let e of currentHotels){let n=t.cloneNode(!0);n.querySelector(".photo img").setAttribute("src",e.photo),n.querySelector(".photo img").setAttribute("srcset",e.photo.slice(0,-4)+"@2x.jpg"),n.querySelector(".section-title__dark").textContent=e.name,n.querySelector(".section-text__dark").textContent=e.type,n.querySelectorAll(".section-text__dark")[1].querySelector("span").textContent=e.price,n.querySelector(".value .section-text__dark span").textContent=e.rating;let a=n.querySelector(".stars");for(let t=1;t<e.stars;t++)a.appendChild(n.querySelector(".star").cloneNode(!0));r.appendChild(n)}e.appendChild(r)}document.querySelector(".section-cramps .section-title__dark span").textContent=currentHotels.length}function filterByProperty(e){currentHotels.sort((function(t,r){switch(e){case"price":return+t[e]-+r[e];case"rating":return+t[e].replace(",",".")-+r[e].replace(",",".");case"type":return t[e].localeCompare(r[e])}})),"maxFirst"===filtersAsc.querySelector('input[type="radio"]:checked').value&&currentHotels.reverse()}function changeFilter(e){let t=e.target.closest('input[type="radio"]');this.querySelectorAll('input[type="radio"]').forEach(e=>e.parentNode.parentNode.classList.remove("sort-item__active")),t.parentNode.parentNode.classList.add("sort-item__active"),"sorting_type"===t.getAttribute("name")?filterByProperty(t.value):currentHotels.reverse(),createHotels()}function generateHotels(e){e.preventDefault(),currentHotels=hotels.filter(e=>{const t=Array.from(form.querySelectorAll('.fieldset-infrastructure input[type="checkbox"]:checked')).map(e=>e.value);return e.infrastructure.some(e=>t.includes(e))}).filter(e=>Array.from(form.querySelectorAll('.fieldset-apartment input[type="checkbox"]:checked')).map(e=>e.value).includes(e.type)).filter(e=>{const t=+form.querySelector(".range-line__min").value,r=+form.querySelector(".range-line__max").value;return e.price<r&&e.price>=t}),filterByProperty(filters.querySelector('input[type="radio"]:checked').value),createHotels()}rangeMin&&rangeMax&&(rangeMin.addEventListener("input",changeRangeValueMin),rangeMax.addEventListener("input",changeRangeValueMax)),filters&&(filters.addEventListener("input",changeFilter),filtersAsc.addEventListener("input",changeFilter),form.addEventListener("submit",generateHotels)),createHotels();const playReloadButton=document.querySelector(".btn-replay"),fullScreenButton=document.querySelector(".btn-fullscreen");function onPlayerStateChange(e){player.getPlayerState()}function playReload(e){1===player.getPlayerState()?player.seekTo(0):(player.playVideo(),document.querySelector(".poster").classList.add("visually-hidden"))}function fullScreen(e){const t=player.requestFullScreen||player.mozRequestFullScreen||player.webkitRequestFullScreen;t&&t.call(player)}window.onYouTubePlayerAPIReady=function(){player=new YT.Player("player",{})},fullScreenButton.addEventListener("click",fullScreen),playReloadButton.addEventListener("click",playReload);